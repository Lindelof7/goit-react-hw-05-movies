{"version":3,"file":"static/js/509.dd1ea51e.chunk.js","mappings":"mPACA,GAAgB,iBAAmB,uCAAuC,WAAa,iCAAiC,qBAAuB,2CAA2C,QAAU,8BAA8B,YAAc,kCAAkC,UAAY,iC,SCkF9R,EA3EqB,WAAO,IAAD,EAEfA,GADOC,EAAAA,EAAAA,MACPD,QACR,GAA4BE,EAAAA,EAAAA,UAAS,MAArC,eAAOC,EAAP,KAAeC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,MACjB,GAA8BJ,EAAAA,EAAAA,UAAS,MAAvC,eAAOK,EAAP,KAAgBC,EAAhB,MAEAC,EAAAA,EAAAA,YAAU,WAAO,IAAD,IACZ,IAAIF,EAAJ,CAIA,IAAMG,EAAO,oBAAGL,EAASM,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,IACxCJ,EAAWE,EAHV,CAIJ,GAAE,CAACH,EAAD,UAAUF,EAASM,aAAnB,aAAU,EAAgBC,QAG7BH,EAAAA,EAAAA,YAAU,WACNI,MAAM,sCAAD,OAAuCb,EAAvC,6DACAc,MAAK,SAAAC,GACF,OAAIA,EAASC,GAAcD,EAASE,OAC7BC,QAAQC,OAAO,IAAIC,MAAM,qCACnC,IACAN,MAAK,SAACO,GACHC,EAASD,GAAOjB,EAAUiB,EAAKlB,OAClC,GACR,GAAE,CAACH,IAEJ,OAA0BE,EAAAA,EAAAA,UAAS,CAAC,GAApC,eAAOqB,EAAP,KAAcD,EAAd,KAEA,OAAKnB,GAGG,iCACJ,gBAAKqB,UAAYC,EAAAA,UAAjB,UACI,SAAC,KAAD,CAAMC,GAAInB,EAAV,wBAIJ,iBAAKiB,UAAYC,EAAAA,iBAAjB,UACKF,EAAMI,aAAc,gBAAKC,IAAG,6CAAwCL,EAAMI,aACvEH,UAAYC,EAAAA,IAAUI,IAAI,WAAWC,MAAM,WAAa,gBAAKF,IAAKG,EAAeF,IAAI,cAAcC,MAAM,WAC7G,iBAAKN,UAAYC,EAAAA,qBAAjB,WACI,wBAAKF,EAAMS,kBACX,wCAAgBC,KAAKC,MAA2B,GAArBX,EAAMY,cAAjC,QACA,sCACA,uBAAIZ,EAAMa,YACV,oCACA,eAAIZ,UAAYC,EAAAA,WAAhB,SAAkCtB,EAAOkC,KAAI,SAACC,GAAD,OAAW,wBAAoBA,EAAMC,OAAjBC,EAAAA,EAAAA,MAApB,aAGrD,iBAAKhB,UAAYC,EAAAA,YAAjB,WACI,cAAGD,UAAYC,EAAAA,QAAf,qCACA,2BACI,yBACI,SAAC,KAAD,CAAMC,GAAG,OAAT,qBAEJ,yBACI,SAAC,KAAD,CAAMA,GAAG,UAAT,8BAIZ,SAAC,EAAAe,SAAD,CAAUC,UAAU,SAAC,KAAD,CAChBC,OAAO,KACPb,MAAM,KACNc,OAAO,IACPC,MAAM,QACNC,UAAU,YALd,UAOI,SAAC,KAAD,SAtCG,IA0Cd,C,qBC3ED,SAASC,EAAuBC,GAAK,OAAOA,GAAkB,kBAANA,GAAkB,YAAaA,EAAIA,EAAI,CAAE,QAAWA,EAAM,CAElH,IAAIC,EAA8BF,EAJtBG,EAAQ,MAMhBC,EAAe,KACfC,EAAS,EACb,SAASZ,EAAOa,GAEd,OADAD,IACO,GAAGE,OAAOD,GAAeF,GAAcG,OAAOF,EACtD,CACD,IAOIG,EAAS,SAAgBC,EAAOC,GAGlC,IAFA,IAAIC,EAAM,GAEDC,EAAI,EAAGA,EAAIH,EAAOG,IACzBD,EAAIE,KAAKpB,EAAOiB,IAGlB,OAAOC,CACR,EAED,SAASG,EAAYC,GACnB,IAAIC,EAAMd,EAAc,QAAYe,SAIpC,OAHAf,EAAc,QAAYxC,WAAU,WAClCsD,EAAIE,QAAUH,CACf,IACMC,EAAIE,OACZ,CAgBDC,EAAAA,GAAqB1B,C","sources":["webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.js","../node_modules/react-id-generator/lib/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieDetailsWrap\":\"MovieDetails_movieDetailsWrap__yRtKz\",\"genresList\":\"MovieDetails_genresList__iljfW\",\"movieDetailsTextWrap\":\"MovieDetails_movieDetailsTextWrap__2x0jN\",\"addInfo\":\"MovieDetails_addInfo__xdErv\",\"addInfoWrap\":\"MovieDetails_addInfoWrap__+v9Ta\",\"goBackBtn\":\"MovieDetails_goBackBtn__EIQ+S\"};","import { Suspense } from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { Audio } from 'react-loader-spinner';\nimport nextId from \"react-id-generator\";\nimport MovieNotFound from '../Photos/MovieNotFound.jpg'\nimport css from './MovieDetails.module.css'\n\nconst MovieDetails = () => {\n    const params = useParams();\n    const { movieId } = params;\n    const [genres, setGenres] = useState(null);\n    const location = useLocation();\n    const [locLink, setLocLink] = useState(null)\n\n    useEffect(() => {\n        if (locLink) {\n            return\n        }\n\n        const linkRef = location.state?.from ?? '/';\n        setLocLink(linkRef)\n    }, [locLink, location.state?.from]);\n\n\n    useEffect(() => {\n        fetch(`https://api.themoviedb.org/3/movie/${movieId}?api_key=c3f95f745a9082077133badef3071055&language=en-US`)\n            .then(response => {\n                if (response.ok) { return (response.json()) }\n                return Promise.reject(new Error('Please provide valid search value'))\n            })\n            .then((data) => {\n                setMovie(data); setGenres(data.genres)\n            })\n    }, [movieId])\n\n    const [movie, setMovie] = useState({});\n\n    if (!genres) {\n        return null;\n    }\n    return (<>\n        <div className={(css.goBackBtn)} >\n            <Link to={locLink} >\n                Go back\n            </Link>\n        </div>\n        <div className={(css.movieDetailsWrap)}>\n            {movie.poster_path ? <img src={`https://image.tmdb.org/t/p/original${movie.poster_path}`}\n                className={(css.img)} alt=\"Portrait\" width=\"370px\" /> : <img src={MovieNotFound} alt=\"No Portrait\" width=\"370px\" />}\n            <div className={(css.movieDetailsTextWrap)}>\n                <h1>{movie.original_title}</h1>\n                <p>User score: {Math.round(movie.vote_average * 10)}%</p>\n                <h2>Overview</h2>\n                <p>{movie.overview}</p>\n                <h2>Genres</h2>\n                <ul className={(css.genresList)}>{genres.map((genre) => <li key={nextId()}>{genre.name}</li>)}</ul>\n            </div>\n        </div >\n        <div className={(css.addInfoWrap)}>\n            <p className={(css.addInfo)}>Additional information</p>\n            <ul>\n                <li>\n                    <Link to=\"cast\">Cast</Link>\n                </li>\n                <li>\n                    <Link to=\"reviews\">Reviews</Link>\n                </li>\n            </ul>\n        </div>\n        <Suspense fallback={<Audio\n            height=\"80\"\n            width=\"80\"\n            radius=\"9\"\n            color=\"green\"\n            ariaLabel=\"loading\"\n        />}>\n            <Outlet />\n        </Suspense>\n    </>\n    );\n}\n\nexport default MovieDetails","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar React = require('react');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\nvar globalPrefix = \"id\";\nvar lastId = 0;\nfunction nextId(localPrefix) {\n  lastId++;\n  return \"\".concat(localPrefix || globalPrefix).concat(lastId);\n}\nvar resetId = function resetId() {\n  lastId = 0;\n};\nvar setPrefix = function setPrefix(newPrefix) {\n  globalPrefix = newPrefix;\n};\n\nvar getIds = function getIds(count, prefix) {\n  var ids = [];\n\n  for (var i = 0; i < count; i++) {\n    ids.push(nextId(prefix));\n  }\n\n  return ids;\n};\n\nfunction usePrevious(value) {\n  var ref = React__default['default'].useRef();\n  React__default['default'].useEffect(function () {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nfunction useId() {\n  var count = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  var prefix = arguments.length > 1 ? arguments[1] : undefined;\n  var idsListRef = React__default['default'].useRef([]);\n  var prevCount = usePrevious(count);\n  var prevPrefix = usePrevious(prefix);\n\n  if (count !== prevCount || prevPrefix !== prefix) {\n    idsListRef.current = getIds(count, prefix);\n  }\n\n  return idsListRef.current;\n}\n\nexports['default'] = nextId;\nexports.resetId = resetId;\nexports.setPrefix = setPrefix;\nexports.useId = useId;\n"],"names":["movieId","useParams","useState","genres","setGenres","location","useLocation","locLink","setLocLink","useEffect","linkRef","state","from","fetch","then","response","ok","json","Promise","reject","Error","data","setMovie","movie","className","css","to","poster_path","src","alt","width","MovieNotFound","original_title","Math","round","vote_average","overview","map","genre","name","nextId","Suspense","fallback","height","radius","color","ariaLabel","_interopDefaultLegacy","e","React__default","require","globalPrefix","lastId","localPrefix","concat","getIds","count","prefix","ids","i","push","usePrevious","value","ref","useRef","current","exports"],"sourceRoot":""}